<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto VoteCIn</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; 
            line-height: 1.6; 
            margin: 0;
            padding: 0;
            background-color: #f4f7f6;
            color: #333;
        }
        .container { 
            max-width: 900px; 
            margin: 20px auto; 
            padding: 20px;
        }
        header {
            text-align: center;
            border-bottom: 2px solid #eee;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        h1 { 
            color: #222;
            margin-bottom: 0.5rem;
        }
        h2 {
            color: #0056b3; /* Tom de azul do bot√£o */
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
            margin-top: 0;
        }
        p {
            margin-bottom: 1rem;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 0.5rem;
        }
        .section { 
            margin-bottom: 30px; 
            padding: 25px; 
            background-color: #ffffff; 
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            border: 1px solid #e0e0e0;
        }
        .links-rapidos {
            text-align: center;
        }
        .link-button { 
            display: inline-block; 
            padding: 12px 24px; 
            margin: 5px; 
            background-color: #007bff; 
            color: white; 
            text-decoration: none; 
            border-radius: 5px; 
            font-weight: bold;
            transition: background-color 0.2s ease;
        }
        .link-button:hover { 
            background-color: #0056b3; 
        }
        /* Estilos para a tabela */
        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin-top: 15px; 
        }
        th, td { 
            border: 1px solid #ddd; 
            padding: 12px; 
            text-align: left; 
            vertical-align: top;
        }
        th { 
            background-color: #007bff; 
            color: white; 
            font-size: 0.9rem;
            text-transform: uppercase;
        }
        tr:nth-child(even) { 
            background-color: #f9f9f9; 
        }
        /* Estilo para c√≥digo e diagramas */
        pre, code {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            font-size: 0.95rem;
        }
        pre.mermaid {
            background-color: #fdfdfd;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #eee;
            text-align: center;
        }
        footer { 
            text-align: center; 
            margin-top: 30px; 
            color: #777; 
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Projeto VoteCIn</h1>
            <p>Um sistema de gerenciamento de vota√ß√µes em C++ com foco em Arquitetura em Camadas e POO.</p>
        </header>

        <!-- SE√á√ÉO 1: LINKS R√ÅPIDOS (Mantida do original) -->
        <section class="section links-rapidos">
            <h2>üîó Acesso R√°pido aos Materiais</h2>
            <p>Acesse o relat√≥rio completo, o c√≥digo-fonte no GitHub e o v√≠deo de demonstra√ß√£o do projeto.</p>
            
            <a href="https://docs.google.com/document/d/1IRw9_jklSWIrgNJS5wZ2IfCsQ5Nng_Thgih9YqItUnQ" target="_blank" class="link-button">
                Relat√≥rio Completo
            </a>

            <a href="https://github.com/henriqesl/VoteCin" target="_blank" class="link-button">
                C√≥digo Fonte (GitHub)
            </a>

            <a href="https://www.youtube.com/watch?v=zHqa79tL4rw" target="_blank" class="link-button">
                V√≠deo de Demonstra√ß√£o
            </a>
        </section>

        <!-- SE√á√ÉO 2: VIS√ÉO GERAL (Do relat√≥rio) -->
        <section class="section">
            <h2>Vis√£o Geral e Proposta</h2>
            <p>
                O VoteCin √© um sistema de gerenciamento de vota√ß√µes desenvolvido em C++, com foco em modularidade, extensibilidade e forte ader√™ncia aos princ√≠pios da Programa√ß√£o Orientada a Objetos (POO).
            </p>
            <p>
                O objetivo do sistema √© oferecer uma interface de terminal onde um Administrador pode configurar vota√ß√µes, enquanto o P√∫blico realiza votos de forma simples e transparente. O projeto √© flex√≠vel, permitindo diferentes tipos de vota√ß√£o (filmes, jogos etc.) e gerencia todo o ciclo, desde a configura√ß√£o ao relat√≥rio final.
            </p>
        </section>

        <!-- SE√á√ÉO 3: ARQUITETURA (Do relat√≥rio) -->
        <section class="section">
            <h2>Arquitetura do Software ‚Äì Arquitetura em Camadas</h2>
            <p>
                O projeto adota uma Arquitetura em Camadas (Layered Architecture), dividindo o sistema em responsabilidades distintas:
            </p>
            <ul>
                <li><strong>UI (Interfaces):</strong> Intera√ß√£o com o usu√°rio (menus, entrada e sa√≠da).</li>
                <li><strong>CORE (L√≥gica de Neg√≥cios):</strong> Regras do sistema e orquestra√ß√£o das a√ß√µes.</li>
                <li><strong>DATA (Acesso a Dados):</strong> Leitura e escrita em arquivos <code>.txt</code>.</li>
                <li><strong>MODELS (Entidades):</strong> Armazenamento de dados e estados.</li>
            </ul>
            <p>O fluxo segue depend√™ncia unidirecional: <code>UI ‚Üí CORE ‚Üí DATA</code>, enquanto <code>MODELS</code> √© usado por todas.</p>
            
            <!-- Diagrama de Arquitetura (Mermaid) -->
            <pre class="mermaid">
graph TD
    Usuario --> UI
    
    subgraph UI [Camada de Apresenta√ß√£o (ui/)]
        TelaPrincipal
        TelaAdmin
        TelaVotacao
        UtilsUI
    end
    
    UI --> CORE
    
    subgraph CORE [Camada de L√≥gica de Neg√≥cios (core/)]
        GerenciadorVotacoes
        Votacao
        Urna
        Relatorio
    end
    
    CORE --> DATA
    CORE --> MODELS
    
    subgraph DATA [Camada de Acesso a Dados (data/)]
        GerenciadorDados
    end
    
    subgraph MODELS [Camada de Modelos (models/)]
        Votante
        Opcao
        Voto
        Participante
    end
    
    DATA --> Arquivos[("resources/*.txt")]
    DATA --> MODELS
            </pre>
        </section>

        <!-- SE√á√ÉO 4: PRINC√çPIOS DE POO (Do relat√≥rio) -->
        <section class="section">
            <h2>Princ√≠pios de POO Aplicados</h2>
            <p>O sistema VoteCin foi projetado com base nos quatro pilares da Programa√ß√£o Orientada a Objetos:</p>
            <ul>
                <li><strong>Abstra√ß√£o:</strong> Classes como <code>Tela</code> e <code>Participante</code> definem contratos gen√©ricos (interfaces puras) que ocultam detalhes de implementa√ß√£o, permitindo que novas telas ou entidades sejam adicionadas sem alterar o restante do c√≥digo.</li>
                <li><strong>Heran√ßa:</strong> Utilizada para reutiliza√ß√£o e especializa√ß√£o. As telas concretas (<code>TelaAdmin</code>, <code>TelaVotacao</code>) herdam de <code>Tela</code>, enquanto <code>Votante</code> herda de <code>Participante</code>.</li>
                <li><strong>Encapsulamento:</strong> Atributos sens√≠veis, como <code>jaVotou</code> em <code>Votante</code>, s√£o privados e acessados apenas por m√©todos controlados (<code>registrarVoto()</code>, <code>podeVotar()</code>), garantindo a integridade dos dados.</li>
                <li><strong>Polimorfismo:</strong> O comportamento din√¢mico do sistema √© obtido na <code>main.cpp</code> atrav√©s da chamada polim√≥rfica <code>telaAtual->proximaTela()</code>, onde o C++ decide em tempo de execu√ß√£o qual implementa√ß√£o de tela (Admin, Principal, etc.) deve ser exibida (Padr√£o de Design *State*).</li>
            </ul>
        </section>

        <!-- SE√á√ÉO 5: DESAFIOS (Do relat√≥rio) -->
        <section class="section">
            <h2>Desafios e Decis√µes T√©cnicas</h2>
            <ul>
                <li>
                    <strong>Corrup√ß√£o de Mem√≥ria (<code>std::bad_alloc</code>):</strong>
                    O bug mais cr√≠tico do projeto [cite: image_bb4aad.png-1bbc31bd-2005-49fa-ba4f-eea059d368ca]. Foi causado pelo uso de <code>std::vector</code> para armazenar votantes, enquanto um <code>std::map</code> armazenava ponteiros para eles. A realoca√ß√£o do vetor invalidava os ponteiros, corrompendo a mem√≥ria.
                    <br><strong>Solu√ß√£o:</strong> Substitui√ß√£o de <code>std::vector</code> por <code>std::list</code> [cite: henriqesl/votecin/VoteCin-5b66cf7fd2b67fdbcba26c18b85a7d71013025e6/include/core/GerenciadorVotacoes.h, henriqesl/votecin/VoteCin-5b66cf7fd2b67fdbcba26c18b85a7d71013025e6/include/data/GerenciadorDados.h], que garante a estabilidade dos ponteiros ap√≥s inser√ß√µes.
                </li>
                <li>
                    <strong>Estado Persistente Indevido:</strong>
                    Dados de sess√µes antigas (votantes e op√ß√µes) permaneciam entre as execu√ß√µes.
                    <br><strong>Solu√ß√£o:</strong> Desativa√ß√£o de <code>autoSalvarOpcoes</code> (para n√£o "sujar" os templates) e chamada de <code>limparLogVotantes()</code> no in√≠cio do <code>main.cpp</code> [cite: henriqesl/votecin/VoteCin-5b66cf7fd2b67fdbcba26c18b85a7d71013025e6/main.cpp] para garantir sess√µes limpas.
                </li>
            </ul>
        </section>
        
        <!-- SE√á√ÉO 6: DIAGRAMA DE CLASSES (Do relat√≥rio) -->
        <section class="section">
            <h2>Diagrama de Classes (UML)</h2>
            <p>O diagrama abaixo ilustra as principais classes do sistema e suas rela√ß√µes (Heran√ßa, Composi√ß√£o e Agrega√ß√£o).</p>
            <!-- Diagrama de Classes (Mermaid) -->
            <pre class="mermaid">
classDiagram
    direction LR

    class GerenciadorVotacoes {
        -Votacao votacaoAtual
        -list~Opcao~ opcoes
        -list~Votante~ votantes
        +iniciarVotacao()
        +executarVotacao()
        +adicionarNovaOpcao()
    }

    class Votacao {
        -string status
        -unique_ptr~Urna~ urna
        -vector~Opcao*~ opcoes
        -map~string, Votante*~ votantes
        +iniciarVotacao()
        +votar(Votante&, int)
    }

    class Urna {
        -vector~Voto~ votosRegistrados
        -map~int, Opcao*~ mapaOpcoes
        +votar(Votante&, int)
    }

    class Relatorio {
        +gerarRelatorio(Votacao&)
    }

    class GerenciadorDados {
        <<static>>
        +list~Opcao~ carregarOpcoes(string)
        +list~Votante~ carregarVotantes(string)
        +salvarVotantes(string, list~Votante~)
    }

    class Tela {
        <<Abstract>>
        #GerenciadorVotacoes& sistema
        +proximaTela()* Tela*
    }

    class TelaPrincipal { +proximaTela() Tela* }
    class TelaAdmin { +proximaTela() Tela* }
    class TelaVotacao { +proximaTela() Tela* }

    class Participante {
        <<Abstract>>
        -string nome
        -string id
        +imprimirDetalhes()* void
    }

    class Votante {
        -bool jaVotou
        +podeVotar() bool
        +registrarVoto() void
    }
    
    class Opcao {
        -int idNumerico
        -int totalVotos
        +adicionarVoto()
    }

    ' Relacionamentos
    GerenciadorVotacoes "1" o-- "1" Votacao : cont√©m
    GerenciadorVotacoes "1" o-- "1" Relatorio : usa
    GerenciadorVotacoes "1" *-- "N" Opcao : possui (owner)
    GerenciadorVotacoes "1" *-- "N" Votante : possui (owner)
    
    GerenciadorVotacoes ..> GerenciadorDados : usa

    Votacao "1" *-- "0..1" Urna : cont√©m (unique_ptr)
    Votacao ..> Opcao : agrega (ponteiro)
    Votacao ..> Votante : agrega (ponteiro)
    
    Urna ..> Votante : usa
    Urna ..> Opcao : usa (ponteiro)
    
    Tela <|-- TelaPrincipal
    Tela <|-- TelaAdmin
    Tela <|-- TelaVotacao
    
    main ..> Tela : usa
    Tela ..> GerenciadorVotacoes : referencia

    Participante <|-- Votante
            </pre>
        </section>

        <!-- SE√á√ÉO 7: DIVIS√ÉO DE TAREFAS (Do relat√≥rio) -->
        <section class="section">
            <h2>Divis√£o de Tarefas</h2>
            <table>
                <thead>
                    <tr>
                        <th>Integrante</th>
                        <th>Contribui√ß√µes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Henrique Lima (hsl3)</strong></td>
                        <td>Defini√ß√£o da arquitetura geral, refatora√ß√£o completa do sistema original, implementa√ß√£o do CORE e integra√ß√£o entre as camadas. Respons√°vel tamb√©m pela documenta√ß√£o t√©cnica.</td>
                    </tr>
                    <tr>
                        <td><strong>Igor Rafael (irob)</strong></td>
                        <td>Apoio na organiza√ß√£o da estrutura de pastas e revis√£o geral da interface, contribuindo na padroniza√ß√£o visual e navega√ß√£o.</td>
                    </tr>
                    <tr>
                        <td><strong>Mateus Barbosa (mbos)</strong></td>
                        <td>Cria√ß√£o e estiliza√ß√£o das telas principais da aplica√ß√£o (UI), com foco na interface de vota√ß√£o e exibi√ß√£o de resultados.</td>
                    </tr>
                    <tr>
                        <td><strong>Mateus Martins (mmb2)</strong></td>
                        <td>Implementa√ß√£o de partes da camada DATA, aplica√ß√£o de conceitos de polimorfismo e suporte na modelagem das classes.</td>
                    </tr>
                    <tr>
                        <td><strong>Robson Landim (rlcj)</strong></td>
                        <td>Desenvolvimento inicial do c√≥digo-base e posterior atua√ß√£o em testes, depura√ß√£o e verifica√ß√£o das funcionalidades do modo Admin.</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <footer>
            <p>Desenvolvido por: Henrique Lima (hsl3), Igor Barbosa (irob), Mateus Santos (mbos), Mateus Burgos (mmb2), Robson Junior (rlcj).</p>
        </footer>
    </div>

    <!-- Script para renderizar os diagramas Mermaid -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
</body>
</html>
